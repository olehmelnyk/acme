echo "🔍 Running pre-push checks..."

# Check if we're on a protected branch
echo "🔒 Checking branch protection..."
./tools/scripts/check-protected-branch.sh || exit 1

# Run branch naming check
echo "📝 Checking branch name..."
branch_pattern="^(feat|fix|hotfix|release|support)/ACME-\\d+-[a-zA-Z0-9/_-]+$"
example_branch="feat/ACME-123-feature-description"
bun branch-naming-check "$branch_pattern" "$example_branch" || exit 1

echo "✅ Pre-push checks passed!"
